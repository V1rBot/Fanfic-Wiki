# Документация по созданию контента

Этот документ описывает структуру JSON-файлов, необходимых для добавления новых вселенных, категорий и элементов в приложение.

## 1. Файл `manifest.json`

Это главный файл, который регистрирует все доступные вселенные в приложении.

-   **Расположение:** Корень проекта.
-   **Структура:**
    ```json
    {
      "worlds": {
        "scp": "data/scp/world.json",
        "marvel": "data/marvel/world.json",
        "hp": "data/hp/world.json",
        "onepiece": "data/onepiece/world.json",
        "naruto": "data/naruto/world.json",
        "bleach": "data/bleach/world.json"
      }
    }
    ```
-   **Поля:**
    -   `worlds`: Объект, где каждый ключ - это уникальный идентификатор вселенной (например, `"scp"`), а значение - это путь к файлу конфигурации этой вселенной.

## 2. Файл конфигурации вселенной (например, `data/scp/world.json`)

Этот файл определяет основные параметры вселенной: ее название, тему оформления и структуру категорий.

-   **Структура:**
    ```json
    {
      "name": "SCP Foundation",
      "theme": "theme-scp",
      "categories": {
        "Объекты SCP": {
          "description": "Список аномальных объектов, содержащихся Фондом.",
          "subcategories": {
            "SCP-001 - SCP-999": {
              "description": "Объекты из Серии I.",
              "items_url": "data/scp/scp_objects/scp_objects_1.json"
            },
            // ... другие подкатегории
          }
        },
        "Организации": {
            "description": "Связанные организации.",
            "items_url": "data/scp/scp_org/org_classes.json"
        }
        // ... другие категории
      }
    }
    ```
-   **Поля:**
    -   `name`: (Строка) Полное название вселенной, которое будет отображаться в интерфейсе.
    -   `theme`: (Строка) CSS-класс темы оформления. Доступные темы определены в `style.css` (например, `theme-scp`, `theme-marvel`).
    -   `categories`: Объект, описывающий иерархию категорий.
        -   **Ключ категории** (например, `"Объекты SCP"`): Название, которое видит пользователь.
        -   **Объект категории:**
            -   `description`: (Строка) Краткое описание, которое появляется при выборе категории.
            -   `items_url`: (Строка, опционально) Путь к JSON-файлу со списком элементов для этой категории (если у нее нет подкатегорий).
            -   `subcategories`: (Объект, опционально) Объект, описывающий подкатегории. Структура аналогична `categories`.

## 3. Файл со списком элементов (например, `scp_objects_1.json`)

Этот файл представляет собой массив объектов, каждый из которых является элементом списка (например, конкретный SCP-объект, персонаж, артефакт).

-   **Структура:** Массив `[...]` объектов.
    ```json
    [
      {
        "name": "SCP-173",
        "summary": "Враждебная статуя...",
        "full_data": "...",
        "sidebar": { ... }
      },
      {
        "name": "SCP-049",
        "summary": "Чумной Доктор...",
        "full_data": "...",
        "galleries": [ ... ],
        "sidebar": { ... }
      }
    ]
    ```
-   **Поля объекта элемента:**
    -   `name`: (Строка) Название элемента.
    -   `summary`: (Строка) Краткое описание, видимое в списке.
    -   `full_data`: (Строка) Основной контент элемента. **Подробности ниже.**
    -   `sidebar`: (Объект, опционально) Информация для боковой панели. **Подробности ниже.**
    -   `galleries`: (Массив, опционально) Массив галерей, которые можно вставить в `full_data`.

### 3.1. Детально о `full_data`

Это поле содержит HTML-разметку, которая отображается как основное описание элемента. Вы можете использовать стандартные HTML-теги (`<br>`, `<b>`, `<i>` и т.д.).

#### Вставка одиночных изображений

Просто вставьте тег `<img>` с нужными атрибутами. Рекомендуется добавлять класс `embedded-image` для базовых стилей.

```html
<!-- Пример вставки изображения -->
<img src="images/my_image.jpg" alt="Описание" class="embedded-image">
```

#### Вставка галерей

Чтобы вставить галерею, используйте специальный `div`-плейсхолдер.

```html
<!-- Плейсхолдер для галереи -->
<div class="gallery-placeholder" data-gallery-id="unique-gallery-id"></div>
```

-   `data-gallery-id`: **Обязательный атрибут.** Уникальный идентификатор, который связывает этот плейсхолдер с данными галереи в массиве `galleries` того же элемента.

**Атрибуты для настройки галереи:**

-   `data-width="<значение>"`: Устанавливает ширину контейнера галереи. Например, `"50%"` или `"300px"`.
-   `data-align="<значение>"`: Выравнивает галерею.
    -   `"left"`: по левому краю.
    -   `"right"`: по правому краю.
    -   `"center"`: по центру.
-   `data-thumbnails="hidden"`: Скрывает список миниатюр под основным изображением галереи.

**Пример `full_data` с галереей:**

```json
"full_data": "Это описание объекта. <br><br> <div class='gallery-placeholder' data-gallery-id='gallery-1' data-width='100%'></div> <br> А это галерея поменьше и по центру: <div class='gallery-placeholder' data-gallery-id='gallery-2' data-width='50%' data-align='center' data-thumbnails='hidden'></div>"
```

#### Управление расположением галерей

Если вы хотите, чтобы галереи, выровненные по левому и правому краю, не "обтекали" друг друга, а располагались строго одна под другой, вставьте между их плейсхолдерами `div` с классом `clear-float`.

```html
<div class='gallery-placeholder' data-gallery-id='gallery-1' data-align="left"></div>
<div class="clear-float"></div>
<div class='gallery-placeholder' data-gallery-id='gallery-2' data-align="right"></div>
```

### 3.2. Детально о `galleries`

Это массив объектов, где каждый объект описывает одну галерею.

```json
"galleries": [
  {
    "id": "gallery-1",
    "images": [
      "images/path/to/image1.jpg",
      "images/path/to/image2.png"
    ]
  }
]
```

-   `id`: (Строка) Уникальный идентификатор, который должен совпадать с `data-gallery-id` в `full_data`.
-   `images`: (Массив строк) Массив путей к изображениям для этой галереи.

### 3.3. Детально о `sidebar`

Это объект, описывающий содержимое боковой панели.

```json
"sidebar": {
  "image": "images/sidebar-image.jpg",
  "images": [
      "images/sidebar-image1.jpg",
      "images/sidebar-image2.jpg"
  ],
  "fields": {
    "Класс": "Евклид",
    "Тип": "Скульптура"
  }
}
```

-   `image`: (Строка) Путь к основному изображению. Будет показано, если массив `images` отсутствует.
-   `images`: (Массив строк, опционально) Список путей к изображениям. Если указан, создает слайдер в боковой панели.
-   `fields`: (Объект) Набор полей "ключ-значение" для отображения в виде списка характеристик.